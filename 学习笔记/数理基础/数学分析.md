# 李普希兹系数的求法
### 1. 利用偏导数（最常用方法）

如果函数 $f(x, y)$ 对变量 $y$ 是可微的，那么在给定区域 $R$ 内，关于 $y$ 的李普希兹系数 $L$ 可以通过求 $f$ 对 $y$ 的**偏导数绝对值的上界**来确定：$$L = \max_{(x, y) \in R} \left| \frac{\partial f}{\partial y} \right|$$

---
### 2. 利用定义直接推导
如果函数不可微（例如含有绝对值），则需要回归定义，找到一个常数 $L$ 使得：$$|f(x, y_1) - f(x, y_2)| \le L |y_1 - y_2|$$
**示例：** $f(x, y) = x^2 |y|$，在 $|x| \le 1$ 区域内：
1. 计算差值：$|x^2 |y_1| - x^2 |y_2|| = x^2 ||y_1| - |y_2||$。
2. 利用反三角不等式：$||y_1| - |y_2|| \le |y_1 - y_2|$。
3. 结合条件：由于 $x^2 \le 1$，所以原式 $\le 1 \cdot |y_1 - y_2|$。
4. 得到 $L = 1$。
---
### 3. 微分方程系统（向量形式）
对于常微分方程组 $\mathbf{y}' = \mathbf{f}(x, \mathbf{y})$，李普希兹系数通常是雅可比矩阵（Jacobian Matrix）的范数上界：$$L = \max_{R} \| J_f(\mathbf{y}) \|$$

其中 $\| \cdot \|$ 可以是算子范数（如行和范数或列和范数）。
### 总结要点表格

| **函数情况**     | **推荐求法** | **关键步骤**                     |
| ------------ | -------- | ---------------------------- |
| **可微函数**     | 导数法      | 求偏导 $\to$ 取绝对值 $\to$ 求区域内最大值 |
| **不可微/含绝对值** | 定义缩放法    | 利用三角不等式等性质进行不等式放缩            |
| **多维方程组**    | 矩阵范数法    | 求雅可比矩阵 $\to$ 计算矩阵范数的最大值      |

# 常见积分公式
$$\int e^{ax} \sin(bx) dx = \frac{e^{ax}}{a^2 + b^2} (a \sin(bx) - b \cos(bx)) + C$$

$$\int e^{ax} \cos(bx) dx = \frac{e^{ax}}{a^2 + b^2} (a \cos(bx) + b \sin(bx)) + C$$
## 1. 基本幂函数与代数函数

这是最基础的积分公式，也是一切积分推导的起点。

|**函数 f(x)**|**不定积分 ∫f(x)dx**|**备注**|
|---|---|---|
|$k$|$kx + C$|常数积分|
|$x^n$|$\frac{x^{n+1}}{n+1} + C$|$n \neq -1$|
|$\frac{1}{x}$|$\ln|x|
|$\frac{1}{\sqrt{x}}$|$2\sqrt{x} + C$|常用简写|

---

## 2. 指数与对数函数

指数函数的积分通常比较直接，注意底数不是 $e$ 时的系数转换。

|**函数 f(x)**|**不定积分 ∫f(x)dx**|
|---|---|
|$e^x$|$e^x + C$|
|$a^x$|$\frac{a^x}{\ln a} + C$ ($a>0, a\neq 1$)|
|$\ln x$|$x\ln x - x + C$|

---

## 3. 三角函数

三角积分种类繁多，建议优先记住前四个，后面的可以通过倒数关系推导。

| **函数 f(x)**     | **不定积分 ∫f(x)dx** |
| --------------- | ---------------- |
| $\sin x$        | $-\cos x + C$    |
| $\cos x$        | $\sin x + C$     |
| $\tan x$        | $-\ln$           |
| $\cot x$        | $\ln$            |
| $\sec^2 x$      | $\tan x + C$     |
| $\csc^2 x$      | $-\cot x + C$    |
| $\sec x \tan x$ | $\sec x + C$     |
| $\sec x$        | $\ln$            |

---

## 4. 含有 $a^2$ 与 $x^2$ 的常见积分

这类积分通常对应反三角函数，是考试和复杂计算中的难点。

| **函数 f(x)**                    | **不定积分 ∫f(x)dx**                                                                        | **对应类型**                      |
| ------------------------------ | --------------------------------------------------------------------------------------- | ----------------------------- |
| $\frac{1}{a^2 + x^2}$          | $\frac{1}{a} \arctan \frac{x}{a} + C$                                                   | **反正切型**                      |
| $\frac{1}{\sqrt{a^2 - x^2}}$   | $\arcsin \frac{x}{a} + C$                                                               | **反正弦型**                      |
| $\frac{1}{x^2 - a^2}$          | $$\int \frac{1}{x^2 - a^2} dx = \frac{1}{2a} \ln \left\| \frac{x-a}{x+a} \right\| + C$$ |                               |
| $\frac{1}{\sqrt{x^2 \pm a^2}}$ | $\ln(x + \sqrt{x^2 \pm a^2})+ C$                                                        | $\ln(x + \sqrt{x^2 \pm a^2})$ |
# 曲面面积公式
## 1. 显式方程表示的曲面面积

如果曲面 $S$ 可以用**显式方程** $z = f(x, y)$ 来表示，其中 $(x, y)$ 位于 $xy$ 平面上的区域 $D$ 内，并且 $f(x, y)$ 在 $D$ 上具有连续的一阶偏导数 $f_x$ 和 $f_y$（或 $z_x$ 和 $z_y$），则曲面 $S$ 的面积 $A$ 公式为：

$$A = \iint_D \sqrt{1 + \left(\frac{\partial z}{\partial x}\right)^2 + \left(\frac{\partial z}{\partial y}\right)^2} \,dA$$

或使用更简洁的记号：

$$A = \iint_D \sqrt{1 + z_x^2 + z_y^2} \,dxdy$$

其中 $D$ 是曲面 $S$ 在 $xy$ 平面上的**投影区域**。

---

## 2. 参数方程表示的曲面面积

如果曲面 $S$ 可以用**参数方程** $\mathbf{r}(u, v)$ 来表示，其中 $\mathbf{r}(u, v) = (x(u, v), y(u, v), z(u, v))$，参数 $(u, v)$ 在 $uv$ 平面上的区域 $D$ 内变化，则曲面 $S$ 的面积 $A$ 公式为：

$$A = \iint_D \| \mathbf{r}_u \times \mathbf{r}_v \| \,dA$$

其中：

- $\mathbf{r}_u = \frac{\partial \mathbf{r}}{\partial u} = \left(\frac{\partial x}{\partial u}, \frac{\partial y}{\partial u}, \frac{\partial z}{\partial u}\right)$ 是 $\mathbf{r}$ 对 $u$ 的**偏导向量**。
    
- $\mathbf{r}_v = \frac{\partial \mathbf{r}}{\partial v} = \left(\frac{\partial x}{\partial v}, \frac{\partial y}{\partial v}, \frac{\partial z}{\partial v}\right)$ 是 $\mathbf{r}$ 对 $v$ 的**偏导向量**。
    
- $\mathbf{r}_u \times \mathbf{r}_v$ 是这两个偏导向量的**向量积**（或**叉积**）。
    
- $\| \mathbf{r}_u \times \mathbf{r}_v \|$ 是向量积的**模长**，它在微分几何中称为**面积元素** $dS$。
    
    - $\| \mathbf{r}_u \times \mathbf{r}_v \| = \sqrt{EG - F^2}$，其中 $E = \mathbf{r}_u \cdot \mathbf{r}_u$, $F = \mathbf{r}_u \cdot \mathbf{r}_v$, $G = \mathbf{r}_v \cdot \mathbf{r}_v$ 是曲面的**第一基本形式**的系数。
        

**注意**：显式方程 $z = f(x, y)$ 可以看作是参数方程的一个特例，取 $\mathbf{r}(x, y) = (x, y, f(x, y))$，此时 $\mathbf{r}_x \times \mathbf{r}_y = (-z_x, -z_y, 1)$，其模长 $\| \mathbf{r}_x \times \mathbf{r}_y \| = \sqrt{(-z_x)^2 + (-z_y)^2 + 1^2} = \sqrt{1 + z_x^2 + z_y^2}$，与上面的显式公式一致。

---

## 3. 旋转曲面的面积

如果曲线 $y = f(x)$, $a \le x \le b$ 绕 $x$ 轴旋转一周形成一个**旋转曲面**，且 $f(x) \ge 0$，则该曲面的面积 $A$ 公式为：

$$A = 2\pi \int_a^b f(x) \sqrt{1 + [f'(x)]^2} \,dx$$

其中 $\sqrt{1 + [f'(x)]^2} \,dx$ 是曲线的**弧长微元** $ds$。
# 常用定积分
## Wallis公式
### 沃利斯积分及其递推关系
设 $I_n = \int_0^{\frac{\pi}{2}}\cos^n\theta d\theta$（或 $I_n = \int_0^{\frac{\pi}{2}}\sin^n\theta d\theta$）。
通过分部积分可以推导出以下递推关系 (Reduction Formula)：
$$I_n = \frac{n-1}{n} I_{n-2} \quad (n \ge 2)$$
利用这个关系，可以反复降阶，直到 $I_0$ 或 $I_1$。
- **初始值：**
    - $I_0 = \int_0^{\frac{\pi}{2}} 1 d\theta = \frac{\pi}{2}$
    - $I_1 = \int_0^{\frac{\pi}{2}} \cos\theta d\theta = 1$
        

---

###  沃利斯公式的具体表达式
#### 1. $n$ 为偶数时（$n = 2k$）
当 $n$ 是偶数（$n \ge 2$）时，积分结果包含 $\frac{\pi}{2}$：
$$\int_0^{\frac{\pi}{2}}\cos^n\theta d\theta = \frac{(n-1)!!}{n!!} \cdot \frac{\pi}{2}$$
展开形式为：
$$\frac{(n-1) \cdot (n-3) \cdot \dots \cdot 3 \cdot 1}{n \cdot (n-2) \cdot \dots \cdot 4 \cdot 2} \cdot \frac{\pi}{2}$$
#### 2. $n$ 为奇数时（$n = 2k+1$）
当 $n$ 是奇数（$n \ge 3$）时，积分结果是纯粹的有理数：
$$\int_0^{\frac{\pi}{2}}\cos^n\theta d\theta = \frac{(n-1)!!}{n!!}$$
展开形式为：
$$\frac{(n-1) \cdot (n-3) \cdot \dots \cdot 4 \cdot 2}{n \cdot (n-2) \cdot \dots \cdot 3 \cdot 1}$$
# 方向导数
##  方向导数的定义

对于一个**多元函数** $f(x_1, x_2, \dots, x_n)$，它在点 $P(a_1, a_2, \dots, a_n)$ 处沿着一个**单位向量** $\mathbf{u} = (u_1, u_2, \dots, u_n)$ 的方向导数，通常记作 $\frac{\partial f}{\partial \mathbf{u}}$ 或 $D_{\mathbf{u}}f(P)$。

它的定义是：

$$D_{\mathbf{u}}f(P) = \lim_{t \to 0} \frac{f(P + t\mathbf{u}) - f(P)}{t}$$

其中，$P + t\mathbf{u}$ 表示从点 $P$ 沿着方向 $\mathbf{u}$ 移动距离 $t$ 后的点。

简单来说，方向导数就是函数 $f$ 在点 $P$ 处，**沿着**向量 $\mathbf{u}$ **方向**的瞬时变化率。

##  二元函数（最常见）的计算公式

对于一个二元函数 $z = f(x, y)$，如果它在点 $P(x_0, y_0)$ 处**可微**，那么它沿着**单位向量** $\mathbf{u} = (\cos \alpha, \sin \alpha)$（其中 $\alpha$ 是方向向量与 $x$ 轴正向的夹角）的方向导数可以用偏导数来计算：

$$D_{\mathbf{u}}f(x_0, y_0) = \frac{\partial f}{\partial x}(x_0, y_0) \cos \alpha + \frac{\partial f}{\partial y}(x_0, y_0) \sin \alpha$$

## 梯度与方向导数的关系（一般公式）

更一般地，方向导数与函数的梯度向量 $\nabla f$ 有非常简洁的关系。

如果函数 $f$ 在点 $P$ 处可微，那么它沿着**单位向量** $\mathbf{u}$ 的方向导数等于函数在点 $P$ 处的梯度与该方向向量的**点积**（内积）：

$$D_{\mathbf{u}}f(P) = \nabla f(P) \cdot \mathbf{u}$$

其中：

- 梯度 $\nabla f(P)$ 是一个向量，其分量是函数在 $P$ 处的偏导数：
    
    $$\nabla f(P) = \left( \frac{\partial f}{\partial x_1}(P), \frac{\partial f}{\partial x_2}(P), \dots, \frac{\partial f}{\partial x_n}(P) \right)$$
    
- **点积** $(\cdot)$ 是两个向量的分量乘积之和。
    

## 方向导数的性质

1. 最大变化率： 函数在点 $P$ 处沿着梯度方向 $\nabla f(P)$ 的变化率最大，最大值就是梯度的模（长度）：
    
    $$\max D_{\mathbf{u}}f(P) = |\nabla f(P)|$$
    
2. 最小变化率： 函数在点 $P$ 处沿着负梯度方向 $-\nabla f(P)$ 的变化率最小（变化最慢），最小值是梯度的模的负值：
    
    $$\min D_{\mathbf{u}}f(P) = -|\nabla f(P)|$$
    
3. **零变化率：** 函数在点 $P$ 处沿着**等高线（面）的切线方向**（即垂直于梯度 $\nabla f(P)$ 的方向）的变化率为零。
# n次齐次函数
### 定义

设 $f(x_1, x_2, \dots, x_k)$ 是一个 $k$ 个自变量的函数。如果对于任意正数 $t > 0$（有时也要求 $t \ne 0$），该函数满足以下关系式：

$$f(t x_1, t x_2, \dots, t x_k) = t^n f(x_1, x_2, \dots, x_k)$$

则称函数 $f$ 是一个 **$n$ 次齐次函数**。

**核心思想**：将所有自变量同时放大 $t$ 倍，函数的值会被放大 $t^n$ 倍。
###  核心性质：欧拉齐次函数定理

对于齐次函数，最重要且最常用的性质是欧拉定理。

如果函数 $f(x_1, \dots, x_k)$ 是一个**可微分**的 $n$ 次齐次函数，则它满足以下关系式：

$$\sum_{i=1}^k x_i \frac{\partial f}{\partial x_i} = n f(x_1, x_2, \dots, x_k)$$

**欧拉定理的意义**：它将函数本身的值与函数对其自变量的偏导数（变化率）联系起来。在经济学（如柯布-道格拉斯生产函数）和微分方程中应用广泛。



# 格朗沃尔不等式 (Gronwall's Inequality)

### **I. 积分形式 (Integral Form)**

设 $u(t)$ 和 $k(t)$ 是定义在区间 $[a, b]$ 上的非负连续函数，$\lambda$ 是一个非负常数。如果 $u(t)$ 满足以下不等式：

$$u(t) \le \lambda + \int_{a}^{t} k(s) u(s) ds, \quad \text{对所有 } t \in [a, b]$$

则 $u(t)$ 满足以下估计：

$$u(t) \le \lambda \exp \left( \int_{a}^{t} k(s) ds \right), \quad \text{对所有 } t \in [a, b]$$

---

### **II. 特殊情况（常数核）**

如果 $k(t)$ 是一个常数 $K > 0$：

$$u(t) \le \lambda + K \int_{a}^{t} u(s) ds$$

则估计式简化为：

$$u(t) \le \lambda e^{K(t-a)}$$

---

### **III. 零初值情况（解的唯一性应用）**

这是在皮卡-林德洛夫定理中证明解的**唯一性**时所采用的关键形式。

如果 $\lambda = 0$，且 $u(t)$ 是非负的：

$$u(t) \le \int_{a}^{t} k(s) u(s) ds$$

根据格朗沃尔不等式，我们得到：

$$u(t) \le 0 \cdot \exp \left( \int_{a}^{t} k(s) ds \right) = 0$$

由于 $u(t)$ 必须是非负的，所以这蕴含了：

$$u(t) = 0, \quad \text{对所有 } t \in [a, b]$$

### **应用举例：解的唯一性**

在证明皮卡-林德洛夫定理的唯一性时，我们定义 $u(x) = |y(x) - z(x)|$（两个解的差的绝对值），并得到不等式：

$$|y(x) - z(x)| \le \int_{x_0}^{x} L |y(t) - z(t)| dt$$

其中 $L$ 是利普希茨常数。这正是 $u(x) \le \int_{x_0}^{x} L u(t) dt$ 的形式，其中 $\lambda=0$ 且 $k(t)=L$。

因此，由格朗沃尔不等式，我们立刻得出 $|y(x) - z(x)| = 0$，即 $y(x) = z(x)$，证明了唯一性。

---

### **IV. 微分形式 (Differential Form)**

设 $u(t)$ 和 $\beta(t)$ 是定义在 $[a, b]$ 上的连续函数，$\alpha(t)$ 是定义在 $[a, b]$ 上的连续非负函数。如果 $u(t)$ 满足：

$$u'(t) \le \alpha(t) u(t) + \beta(t) \quad \text{且 } u(a) \le C$$

则 $u(t)$ 满足：

$$u(t) \le C \exp \left( \int_{a}^{t} \alpha(s) ds \right) + \int_{a}^{t} \beta(s) \exp \left( \int_{s}^{t} \alpha(\tau) d\tau \right) ds$$

---

**总结：** 格朗沃尔不等式是分析常微分方程解性质的利器，它提供了一种从**积分或微分不等式**推导出**精确界限**的方法。


# 欧拉积分
## 1.伽马函数 (Gamma Function, 欧拉第二积分)

### 原始定义

$$\Gamma(z) = \int_0^\infty t^{z-1} e^{-t} dt, \quad \text{Re}(z) > 0$$

###  常见变形 (替代形式)

通过变量代换，可以得到 $\Gamma(z)$ 的许多有用形式：

|**代换**|**变形积分**|**用途/背景**|
|---|---|---|
|$t = u^2$|$2 \int_0^\infty u^{2z-1} e^{-u^2} du$|适用于概率积分和高斯积分（当 $z=1/2$ 时）|
|$t = \ln(1/u)$|$\int_0^1 \left(\ln\frac{1}{u}\right)^{z-1} du$|有时在分析收敛性时用到|
|**Pochhammer 积分**|$\frac{1}{2i\sin(\pi z)} \oint_C (-t)^{z-1} e^{-t} dt$|复平面上的回路积分形式（适用于解析延拓）|

###  重要性质

#### A. 基本关系

- **阶乘推广:** 对于正整数 $n$，
    
    $$\Gamma(n) = (n-1)!$$
    
- **递推公式 (Functional Equation):**
    
    $$\Gamma(z+1) = z \Gamma(z)$$
    
- **特殊值:**
    
    - $\Gamma(1) = 1$
        
    - $\Gamma(1/2) = \sqrt{\pi}$ (这是由高斯积分 $\int_{-\infty}^\infty e^{-x^2} dx = \sqrt{\pi}$ 推导而来)
        

#### B. 乘法公式

- 勒让德（Legendre）倍乘公式 (Two-Fold):
    
    $$\Gamma(2z) = \frac{2^{2z-1}}{\sqrt{\pi}} \Gamma(z) \Gamma\left(z+\frac{1}{2}\right)$$
    
- 高斯（Gauss）乘法公式 (General $n$-Fold):
    
    $$\Gamma(nz) = \frac{n^{nz-1/2}}{(2\pi)^{(n-1)/2}} \prod_{k=0}^{n-1} \Gamma\left(z+\frac{k}{n}\right)$$
    

#### C. 反射公式 (Reflection Formula)

这是欧拉最著名的公式之一，将 $\Gamma(z)$ 与 $\Gamma(1-z)$ 联系起来：

$$\Gamma(1-z) \Gamma(z) = \frac{\pi}{\sin(\pi z)}$$

---

## 2. 贝塔函数 (Beta Function, 欧拉第一积分)

###  原始定义

$$B(x, y) = \int_0^1 t^{x-1} (1-t)^{y-1} dt, \quad \text{Re}(x) > 0, \text{Re}(y) > 0$$

###  常见变形 (替代形式)

|**代换**|**变形积分**|**名称/背景**|
|---|---|---|
|$t = \sin^2 \theta$|$2 \int_0^{\pi/2} (\sin\theta)^{2x-1} (\cos\theta)^{2y-1} d\theta$|**三角函数形式**：在计算涉及 $\sin$ 和 $\cos$ 的定积分中非常常用。|
|$t = \frac{u}{1+u}$|$\int_0^\infty \frac{u^{x-1}}{(1+u)^{x+y}} du$|**非限定区间形式**：在积分中出现分母为 $(1+u)$ 的幂次时常用。|

###  重要性质

#### A. 对称性

- 贝塔函数关于参数是对称的：
    
    $$B(x, y) = B(y, x)$$
    

#### B. 与伽马函数的关系 (核心性质)

这是贝塔函数最重要的性质，它将贝塔积分的计算转化为伽马函数：

$$B(x, y) = \frac{\Gamma(x) \Gamma(y)}{\Gamma(x+y)}$$

#### C. 递推关系

利用伽马函数的递推关系，可以导出贝塔函数的递推关系：

- $$B(x+1, y) = \frac{x}{x+y} B(x, y)$$
    
- $$B(x, y+1) = \frac{y}{x+y} B(x, y)$$
    
- $$B(x+1, y) + B(x, y+1) = B(x, y)$$
    

---

### 3. 欧拉积分的应用总结

| **函数**    | **常用计算领域**  | **示例**                                       |
| --------- | ----------- | -------------------------------------------- |
| **Gamma** | **概率论与统计学** | 伽马分布、卡方分布、贝塔分布的参数函数                          |
|           | **数论与复分析**  | 黎曼 $\zeta$ 函数的积分形式、解析延拓                      |
| **Beta**  | **特殊定积分**   | 计算涉及 $\sin^m x \cos^n x$ 的 $0$ 到 $\pi/2$ 的积分 |
|           | **概率论**     | 贝塔分布（Beta Distribution）的核                    |

# 曲线积分
## 第一型曲线积分
### 定义

#### A. 几何背景与物理意义

想象一条空间曲线 $C$ 上分布着某种物质，其线密度（质量每单位长度）是变化的。第一型曲线积分就是用来计算这条曲线的总质量。

- **积分对象：** 标量函数 $f(x, y, z)$
    
- **积分路径：** 空间曲线 $C$
    
- **结果：** 曲线 $C$ 上 $f(x, y, z)$ 的“累积值”（如果 $f$ 是线密度，结果就是总质量）。
    

#### B. 严格定义

设 $C$ 是空间中一条光滑（或分段光滑）的曲线，函数 $f(x, y, z)$ 在 $C$ 上有界。

1. **分割与近似:** 将曲线 $C$ 分割为 $n$ 个小段 $\Delta s_i$，选取任一点 $P_i(\xi_i, \eta_i, \zeta_i)$ 在第 $i$ 小段上。
    
2. **黎曼和:** 构造黎曼和 $\sum_{i=1}^n f(\xi_i, \eta_i, \zeta_i) \Delta s_i$。
    
3. **取极限:** 当分割的细度趋于零（即 $\max(\Delta s_i) \to 0$）时，如果该黎曼和的极限存在，则称此极限为函数 $f(x, y, z)$ 沿着曲线 $C$ 的**第一型曲线积分**，记作：
    

$$\int_C f(x, y, z) ds$$

其中 $ds$ 代表曲线 $C$ 上的**微分弧长元素**。

---

### 2. 性质

第一型曲线积分具有与定积分相似的性质，因为 $ds$ 始终为非负值。

#### P1. 线性性质（可加性）

设 $C$ 是光滑曲线， $k_1, k_2$ 是常数， $f, g$ 是在 $C$ 上连续的函数，则：

$$\int_C [k_1 f(x, y, z) + k_2 g(x, y, z)] ds = k_1 \int_C f(x, y, z) ds + k_2 \int_C g(x, y, z) ds$$

#### P2. 区间可加性（路径可加性）

如果曲线 $C$ 可以分解为两条首尾相接的光滑曲线 $C_1$ 和 $C_2$，则：

$$\int_C f(x, y, z) ds = \int_{C_1} f(x, y, z) ds + \int_{C_2} f(x, y, z) ds$$

#### P3. 路径无关性（方向无关性）

这是第一型曲线积分与第二型曲线积分的主要区别之一。 由于 $ds$ 代表弧长微分，它是一个非负标量，不依赖于曲线的方向。

如果 $\vec{C}$ 和 $-\vec{C}$ 表示 $C$ 的两个相反方向，则：

$$\int_{\vec{C}} f(x, y, z) ds = \int_{-\vec{C}} f(x, y, z) ds$$

#### P4 积分中值定理
##### 定理叙述

设函数 $f(x, y, z)$ 在光滑（或分段光滑）的曲线 $C$ 上**连续**，且曲线 $C$ 的弧长为 $L$。那么在曲线 $C$ 上至少存在一点 $P_0(\xi, \eta, \zeta)$，使得：

$$\int_C f(x, y, z) ds = f(\xi, \eta, \zeta) \cdot L$$

其中 $L$ 是曲线 $C$ 的总弧长，定义为：

$$L = \int_C ds$$

##### 几何/物理意义

这个定理告诉我们，曲线积分的**平均值**是存在的。

1. **平均值:** $\frac{1}{L} \int_C f(x, y, z) ds$
    
2. **意义:** 曲线 $C$ 上的函数 $f$ 的积分平均值，等于函数 $f$ 在曲线上某一点 $P_0$ 处的函数值。
    
    - 如果 $f(x, y, z)$ 是曲线 $C$ 的线密度，那么 $f(\xi, \eta, \zeta)$ 就是该曲线的**平均线密度**。

---

### 3. 运算方法 (化为定积分)

计算第一型曲线积分的核心步骤是**参数化**曲线 $C$，并将积分转化为关于参数 $t$ 的定积分。

### A. 平面曲线 $(C: y=y(x) \text{ 或 } x=x(y))$

假设曲线 $C$ 由方程 $y = y(x)$ 给出，起点为 $(a, y(a))$，终点为 $(b, y(b))$。

1. 微分弧长 $ds$:
    
    $$\color{blue}ds = \sqrt{1 + (y'(x))^2} dx$$
    
2. 积分公式:
    
    $$\color{blue}\int_C f(x, y) ds = \int_a^b f(x, y(x)) \sqrt{1 + \left(\frac{dy}{dx}\right)^2} dx$$
    

### B. 平面曲线 (参数方程)

设平面曲线 $C$ 的参数方程为：

$$C: \begin{cases} x = x(t) \\ y = y(t) \end{cases}, \quad \alpha \le t \le \beta$$

1. 微分弧长 $ds$:
    
    $$\color{blue}ds = \sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2} dt$$
    
2. 积分公式:
    
    $$\color{blue}\int_C f(x, y) ds = \int_\alpha^\beta f(x(t), y(t)) \sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2} dt$$
    

### C. 空间曲线 (参数方程)

设空间曲线 $C$ 的参数方程为：

$$C: \begin{cases} x = x(t) \\ y = y(t) \\ z = z(t) \end{cases}, \quad \alpha \le t \le \beta$$

1. 微分弧长 $ds$:
    
    $$ds = \sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2 + \left(\frac{dz}{dt}\right)^2} dt$$
    
2. 积分公式:
    
    $$\color{blue}\int_C f(x, y, z) ds = \int_\alpha^\beta f(x(t), y(t), z(t)) \sqrt{\left(\frac{dx}{dt}\right)^2 + \left(\frac{dy}{dt}\right)^2 + \left(\frac{dz}{dt}\right)^2} dt$$
##  第二型曲线积分
### 1.定义

#### A. 几何背景与物理意义

第二型曲线积分通常用来计算**变力所做的功**。

想象一个物体沿着空间曲线 $C$ 移动，受到一个**矢量力场** $\vec{F}$ 的作用。力场中的力 $\vec{F}$ 随位置变化，我们希望计算整个过程中力 $\vec{F}$ 所做的总功。

- **积分对象：** 矢量函数（或称为矢量场） $\vec{F}(x, y, z) = P\mathbf{i} + Q\mathbf{j} + R\mathbf{k}$。
    
- **积分路径：** 有方向的（定向）曲线 $\vec{C}$。
    
- **结果：** 矢量场 $\vec{F}$ 沿着路径 $\vec{C}$ 所做的总功。
    

#### B. 严格定义

设 $\vec{C}$ 是一条有向光滑曲线， $\vec{F}(x, y, z)$ 是定义在 $\vec{C}$ 上的一个连续矢量场。

1. **分割与近似:** 将曲线 $\vec{C}$ 分割成 $n$ 个有方向的小段 $\Delta \vec{s}_i$ (长度为 $\Delta s_i$，方向与该段的切线方向一致)。在第 $i$ 小段上任取一点 $P_i(\xi_i, \eta_i, \zeta_i)$。
    
2. **黎曼和:** 在每小段上，力 $\vec{F}$ 所做的近似功是 $W_i \approx \vec{F}(P_i) \cdot \Delta \vec{s}_i$ (力的分量乘以位移)。总功的近似为黎曼和 $\sum_{i=1}^n \vec{F}(P_i) \cdot \Delta \vec{s}_i$。
    
3. **取极限:** 当分割的细度趋于零时，如果该黎曼和的极限存在，则称此极限为矢量场 $\vec{F}$ 沿着曲线 $\vec{C}$ 的**第二型曲线积分**（或称为**环量**），记作：
    

$$\int_{\vec{C}} \vec{F} \cdot d\vec{s} \quad \text{或} \quad \int_{\vec{C}} P dx + Q dy + R dz$$

其中 $d\vec{s}$ 是微分位移矢量：$d\vec{s} = dx \mathbf{i} + dy \mathbf{j} + dz \mathbf{k}$。

分量形式：

$$\int_{\vec{C}} P dx + Q dy + R dz = \int_{\vec{C}} (P \mathbf{i} + Q \mathbf{j} + R \mathbf{k}) \cdot (dx \mathbf{i} + dy \mathbf{j} + dz \mathbf{k})$$

---

### 2. 性质

#### P1. 线性性质

与第一型曲线积分类似，它对函数具有线性性质：

$$\int_{\vec{C}} (k_1 \vec{F}_1 + k_2 \vec{F}_2) \cdot d\vec{s} = k_1 \int_{\vec{C}} \vec{F}_1 \cdot d\vec{s} + k_2 \int_{\vec{C}} \vec{F}_2 \cdot d\vec{s}$$

#### P2. 路径可加性

如果 $\vec{C}$ 由 $\vec{C}_1$ 和 $\vec{C}_2$ 首尾相接组成，则：

$$\int_{\vec{C}} \vec{F} \cdot d\vec{s} = \int_{\vec{C}_1} \vec{F} \cdot d\vec{s} + \int_{\vec{C}_2} \vec{F} \cdot d\vec{s}$$

#### P3. 方向依赖性 (路径方向改变)

**这是与第一型曲线积分的最主要区别。** 第二型曲线积分的值**依赖于曲线的方向**。如果 $-\vec{C}$ 表示与 $\vec{C}$ 相反的方向：

$$\int_{-\vec{C}} \vec{F} \cdot d\vec{s} = -\int_{\vec{C}} \vec{F} \cdot d\vec{s}$$

改变路径方向会使积分值取相反数。

#### P4. 与第一型曲线积分的关系

第二型曲线积分可以表示为第一型曲线积分：

$$\int_{\vec{C}} \vec{F} \cdot d\vec{s} = \int_{\vec{C}} (\vec{F} \cdot \mathbf{T}) ds$$

其中 $\mathbf{T}$ 是曲线 $\vec{C}$ 在该点的单位切线矢量。这说明第二型曲线积分计算的是 $\vec{F}$ 在切线方向上的分量 $F_T = \vec{F} \cdot \mathbf{T}$ 沿着弧长的累积。

---

### 3. 运算(化为定积分)

计算第二型曲线积分的核心步骤也是**参数化**曲线，并将积分中的 $dx, dy, dz$ 替换为关于参数 $t$ 的表达式。

#### A. 平面曲线 (参数方程)

设平面曲线 $\vec{C}$ 的参数方程为：

$$\vec{C}: \begin{cases} x = x(t) \\ y = y(t) \end{cases}, \quad \alpha \le t \le \beta$$

1. **微分替换:**
    
    - $dx = x'(t) dt = \frac{dx}{dt} dt$
        
    - $dy = y'(t) dt = \frac{dy}{dt} dt$
        
2. 代入积分:
    
    $$\int_{\vec{C}} P(x, y) dx + Q(x, y) dy = \int_\alpha^\beta \left[ P(x(t), y(t)) \frac{dx}{dt} + Q(x(t), y(t)) \frac{dy}{dt} \right] dt$$
    

#### B. 空间曲线 (参数方程)

设空间曲线 $\vec{C}$ 的参数方程为：

$$\vec{C}: \begin{cases} x = x(t) \\ y = y(t) \\ z = z(t) \end{cases}, \quad \alpha \le t \le \beta$$

1. **微分替换:**
    
    - $dx = x'(t) dt$
        
    - $dy = y'(t) dt$
        
    - $dz = z'(t) dt$
        
2. 代入积分:
    
    $$\int_{\vec{C}} P dx + Q dy + R dz = \int_\alpha^\beta \left[ P \frac{dx}{dt} + Q \frac{dy}{dt} + R \frac{dz}{dt} \right] dt$$
    

#### C. 特殊情况 ( $y=y(x)$ 形式)

如果曲线 $C$ 由 $y=y(x)$ 给出，从 $x=a$ 到 $x=b$：

- $$\int_{\vec{C}} P dx + Q dy = \int_a^b \left[ P(x, y(x)) + Q(x, y(x)) \frac{dy}{dx} \right] dx$$
# 二重积分
## 定义：
二重积分的定义是基于**黎曼和 (Riemann Sum)** 的极限过程。

 步骤：

1. **分割区域 $D$：** 将积分区域 $D$ 分割成 $n$ 个小的子区域 $\Delta D_k$，其中 $k = 1, 2, \dots, n$。
    
2. **选取样本点：** 在每个小的子区域 $\Delta D_k$ 中任意选取一个点 $(\xi_k, \eta_k)$。
    
3. **近似求和：** 计算函数值 $f(\xi_k, \eta_k)$ 乘以子区域的面积 $\Delta A_k$（其中 $\Delta A_k = |\Delta D_k|$），得到近似体积（或贡献）$f(\xi_k, \eta_k) \Delta A_k$。
    
4. 形成黎曼和： 将所有的近似体积加起来，形成黎曼和：
    
    $$\sum_{k=1}^n f(\xi_k, \eta_k) \Delta A_k$$
    
5. 取极限： 让分割无限加密，即让所有子区域的最大直径 $\lambda \to 0$（同时 $n \to \infty$）。如果这个极限存在，并且与分割方式和样本点的选取无关，那么这个极限值就是函数 $f(x, y)$ 在区域 $D$ 上的二重积分，记作：
    
    $$\iint_D f(x, y) dA = \lim_{\lambda \to 0} \sum_{k=1}^n f(\xi_k, \eta_k) \Delta A_k$$
    

### 积分存在的条件

如果函数 $f(x, y)$ 在有界闭区域 $D$ 上**连续**，则 $f(x, y)$ 在 $D$ 上的二重积分一定存在。

## 性质：
###  1. 线性性质 (Linearity)

二重积分满足线性关系，这意味着积分可以分解和常数可以提出。

#### (1) 常数因子可提：

常数 $k$ 可以提到积分号外面。

$$\iint_D k \cdot f(x, y) dA = k \iint_D f(x, y) dA$$

#### (2) 加法可分解：

两个函数之和的积分等于它们各自积分之和。

$$\iint_D [f(x, y) \pm g(x, y)] dA = \iint_D f(x, y) dA \pm \iint_D g(x, y) dA$$

---

###  2. 积分区域可加性 (Additivity of Domain)

如果积分区域 $D$ 可以分解成有限个互不重叠的子区域 $D_1, D_2, \dots, D_k$（即 $D = D_1 \cup D_2 \cup \dots \cup D_k$，且任意两个子区域之间最多只有边界相交），那么函数在 $D$ 上的积分等于它在每个子区域上的积分之和。

$$\iint_D f(x, y) dA = \iint_{D_1} f(x, y) dA + \iint_{D_2} f(x, y) dA + \cdots + \iint_{D_k} f(x, y) dA$$

- **用途：** 当积分区域 $D$ 形状复杂，无法用单一的积分限表示时，可以通过分割区域来化简计算。
    

---

###  3. 比较性质 (Comparison Property / Monotonicity)

#### (1) 保序性：

如果被积函数之间存在大小关系，那么它们的积分也保持这个关系。

$$\text{若在 } D \text{ 上有 } f(x, y) \le g(x, y) \text{，则 } \iint_D f(x, y) dA \le \iint_D g(x, y) dA$$

#### (2) 非负性：

如果函数在区域上是非负的，那么它的积分值也非负。

$$\text{若在 } D \text{ 上有 } f(x, y) \ge 0 \text{，则 } \iint_D f(x, y) dA \ge 0$$

#### (3) 绝对值不等式：

函数绝对值的积分大于等于函数积分的绝对值。

$$\left| \iint_D f(x, y) dA \right| \le \iint_D |f(x, y)| dA$$

---

###  4. 估值性质 (Estimation Property)

如果函数 $f(x, y)$ 在区域 $D$ 上的最大值为 $M$，最小值为 $m$，且区域 $D$ 的面积记为 $A(D)$，那么二重积分的值介于 $m \cdot A(D)$ 和 $M \cdot A(D)$ 之间。

$$m \cdot A(D) \le \iint_D f(x, y) dA \le M \cdot A(D)$$

- **其中：** $A(D) = \iint_D 1 \cdot dA$。
    
- **用途：** 用于快速估算积分值，或验证计算结果的合理性。
    

---

###  5. 积分中值定理 (Mean Value Theorem for Double Integrals)

如果函数 $f(x, y)$ 在有界闭区域 $D$ 上连续，那么在区域 $D$ 内至少存在一点 $(\xi, \eta)$，使得：

$$\iint_D f(x, y) dA = f(\xi, \eta) \cdot A(D)$$

- **几何意义：** 存在一个高度 $f(\xi, \eta)$ 的柱体，其体积等于曲顶柱体（由 $f(x, y)$ 围成）的体积。
    
- 平均值： 函数 $f(x, y)$ 在区域 $D$ 上的平均值 (Average Value) 定义为：
    
    $$\bar{f} = \frac{1}{A(D)} \iint_D f(x, y) dA = f(\xi, \eta)$$
## 计算
###  1. 直角坐标系下的累次积分

在直角坐标系 $(x, y)$ 下，二重积分 $\iint_D f(x, y) dA$ 可以写成以下两种累次积分的形式。

#### (1) 先对 $y$ 积分，后对 $x$ 积分 ( $dy dx$ )

当区域 $D$ 可以用以下形式描述时，选择这种次序：

$$D = \{(x, y) \mid a \le x \le b, \quad y_1(x) \le y \le y_2(x)\}$$

其中 $y_1(x)$ 和 $y_2(x)$ 是区域的下边界和上边界。

$$\iint_D f(x, y) dA = \int_{a}^{b} \left[ \int_{y_1(x)}^{y_2(x)} f(x, y) dy \right] dx$$

- **内部积分（对 $y$）：** 将 $x$ 视为常数，对 $y$ 从下边界 $y_1(x)$ 积到上边界 $y_2(x)$。
    
- **外部积分（对 $x$）：** 将得到的关于 $x$ 的结果，对 $x$ 从常数 $a$ 积到常数 $b$。
    

#### (2) 先对 $x$ 积分，后对 $y$ 积分 ( $dx dy$ )

当区域 $D$ 可以用以下形式描述时，选择这种次序：

$$D = \{(x, y) \mid c \le y \le d, \quad x_1(y) \le x \le x_2(y)\}$$

其中 $x_1(y)$ 和 $x_2(y)$ 是区域的左边界和右边界。

$$\iint_D f(x, y) dA = \int_{c}^{d} \left[ \int_{x_1(y)}^{x_2(y)} f(x, y) dx \right] dy$$

- **内部积分（对 $x$）：** 将 $y$ 视为常数，对 $x$ 从左边界 $x_1(y)$ 积到右边界 $x_2(y)$。
    
- **外部积分（对 $y$）：** 将得到的关于 $y$ 的结果，对 $y$ 从常数 $c$ 积到常数 $d$。
    

####  积分次序的选择和交换

选择哪种次序通常取决于：

1. **区域 $D$ 的形状：** 哪种描述（$dy dx$ 或 $dx dy$）只需要用一个积分式子来表示。
    
2. **被积函数 $f(x, y)$ 的形式：** 哪种次序能使内部积分更容易计算。
    

如果一个积分次序计算困难，可以尝试**交换积分次序**，即从 $dy dx$ 换成 $dx dy$，或反之。

---
二重积分的变量代换公式为：

$$\iint_D f(x, y) dx dy = \iint_{D'} f(x(u, v), y(u, v)) \cdot |J(u, v)| \, du dv$$
$$J(u, v) = \frac{\partial (x, y)}{\partial (u, v)} = \begin{vmatrix} \frac{\partial x}{\partial u} & \frac{\partial x}{\partial v} \\ \frac{\partial y}{\partial u} & \frac{\partial y}{\partial v} \end{vmatrix} = \frac{\partial x}{\partial u} \frac{\partial y}{\partial v} - \frac{\partial x}{\partial v} \frac{\partial y}{\partial u}$$
###  2. 极坐标系下的计算方法

当积分区域 $D$ 是**圆形、环形**或被**射线**和**曲线**围成，或者被积函数 $f(x, y)$ 中含有 $x^2 + y^2$ 项时，通常**转换为极坐标系**计算会更简单。

#### 坐标变换

$$\begin{cases} x = r \cos \theta \\ y = r \sin \theta \end{cases}$$

#### 面积微元 $dA$ 的转换

在极坐标系中，面积微元 $dA$（原为 $dx dy$）必须进行转换：

$$dA = r \, dr \, d\theta$$

#### 积分公式

二重积分转换为极坐标形式：

$$\iint_D f(x, y) dA = \iint_{D'} f(r \cos \theta, r \sin \theta) \cdot r \, dr \, d\theta$$

其中 $D'$ 是区域 $D$ 在 $(r, \theta)$ 坐标系下的描述。典型的极坐标区域描述形式是：

$$D' = \{(r, \theta) \mid \alpha \le \theta \le \beta, \quad r_1(\theta) \le r \le r_2(\theta)\}$$

积分表达式为：

$$\int_{\alpha}^{\beta} \left[ \int_{r_1(\theta)}^{r_2(\theta)} f(r \cos \theta, r \sin \theta) \cdot r \, dr \right] d\theta$$

- **角度 $\theta$：** 从起始角度 $\alpha$ 到终止角度 $\beta$。
    
- **半径 $r$：** 从内边界 $r_1(\theta)$ 到外边界 $r_2(\theta)$。

## 格林公式 (Green's Theorem)
### 格林公式的陈述

#### 1. 公式形式

设 $D$ 是平面上的一个有界闭区域，其边界 $\partial D$（或记为 $C$）是一条**分段光滑的闭曲线**。曲线 $C$ 取**正方向**（即沿着 $C$ 行进时，区域 $D$ 始终保持在左侧，通常是逆时针方向）。

设函数 $P(x, y)$ 和 $Q(x, y)$ 在 $D$ 上具有一阶连续偏导数，则格林公式表示为：

$$\oint_C P(x, y) dx + Q(x, y) dy = \iint_D \left( \frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} \right) dx dy$$

- **左边：** 沿着闭曲线 $C$ 的第二类曲线积分（也称为线积分）。
    
- **右边：** 在区域 $D$ 上的二重积分。
    

#### 2. 公式成立的条件

- **区域 $D$：** 有界、闭合，通常是单连通区域（没有“洞”）。如果是非单连通区域（有洞），则边界 $C$ 是由外边界（逆时针）和内边界（顺时针）共同组成的。
    
- **边界 $C$：** 分段光滑的闭曲线。
    
- **方向：** 曲线积分必须沿**正方向**（逆时针）取值。
    
- **函数 $P, Q$：** 在 $D$ 上具有**一阶连续偏导数**。
    

---

###  格林公式的应用

格林公式在计算和理论中有广泛的应用：

#### 1. 曲线积分与二重积分的互相转化

- **计算曲线积分：** 当曲线积分 $\oint_C P dx + Q dy$ 直接计算很困难时，如果 $P$ 和 $Q$ 满足条件，可以将其转化为更容易计算的二重积分 $\iint_D (\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y}) dx dy$。
    
- **计算二重积分：** 理论上，二重积分也可以转化为曲线积分来计算，但应用较少。
    

### 2. 判断平面曲线积分与路径无关

重要判别法：

如果 $\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} = 0$ 在区域 $D$ 内恒成立，那么对于 $D$ 内的任意两条始点和终点相同的曲线 $\Gamma_1$ 和 $\Gamma_2$，线积分的值相等，即线积分与路径无关。

$$\oint_C P dx + Q dy = \iint_D 0 \, dx dy = 0$$

这说明在单连通区域 $D$ 内，如果 $\frac{\partial Q}{\partial x} = \frac{\partial P}{\partial y}$，则向量场 $\mathbf{F} = (P, Q)$ 是**保守场**，且线积分在 $D$ 内是路径无关的。

### 3. 计算平面区域的面积

令 $\frac{\partial Q}{\partial x} - \frac{\partial P}{\partial y} = 1$，则格林公式的右边二重积分 $\iint_D 1 dx dy$ 正好等于区域 $D$ 的面积 $A(D)$。

因此，平面区域 $D$ 的面积 $A(D)$ 可以通过以下任一线积分来计算：

$$A(D) = \oint_C x dy = -\oint_C y dx = \frac{1}{2} \oint_C x dy - y dx$$

这使得我们可以用沿着边界曲线的线积分来求得区域的面积。

# 散度定理（高斯公式）
## 散度定理 (高斯公式) 的陈述

### 1. 公式形式

设 $\Omega$ 是三维空间 $\mathbb{R}^3$ 中的一个有界闭区域，其边界是**分段光滑的闭合曲面 $\Sigma$**。曲面 $\Sigma$ 取**外侧**（即曲面法向量指向区域 $\Omega$ 外部）。

设向量场 $\mathbf{F}(x, y, z) = P\mathbf{i} + Q\mathbf{j} + R\mathbf{k}$，其中分量函数 $P, Q, R$ 在 $\Omega$ 上具有一阶连续偏导数。

则散度定理表示为：

$$\iint_{\Sigma} \mathbf{F} \cdot \mathbf{n} \, dS = \iiint_{\Omega} \left( \frac{\partial P}{\partial x} + \frac{\partial Q}{\partial y} + \frac{\partial R}{\partial z} \right) dV$$

- **左边：** 沿闭合曲面 $\Sigma$ 的第二类曲面积分（向量场 $\mathbf{F}$ 的通量）。
    
- **右边：** 在空间区域 $\Omega$ 上的三重积分。
    
- **$\mathbf{n}$：** 曲面 $\Sigma$ 的单位外法向量。
    
- **$dV$：** 空间体积微元（在直角坐标系中为 $dx dy dz$）。
    

### 2. 散度 (Divergence)

右边三重积分中的被积函数被称为向量场 $\mathbf{F}$ 的**散度 (Divergence)**，记作 $\text{div} \mathbf{F}$ 或 $\nabla \cdot \mathbf{F}$：

$$\text{div} \mathbf{F} = \nabla \cdot \mathbf{F} = \frac{\partial P}{\partial x} + \frac{\partial Q}{\partial y} + \frac{\partial R}{\partial z}$$

因此，散度定理可以简洁地写为：

$$\iint_{\Sigma} \mathbf{F} \cdot \mathbf{n} \, dS = \iiint_{\Omega} \text{div} \mathbf{F} \, dV$$

### 3. 物理意义

散度定理的物理意义非常直观：

**一个向量场 $\mathbf{F}$ 通过闭合曲面 $\Sigma$ 流出的总通量（左边）等于该向量场在曲面所包围的体积 $\Omega$ 内所有点上的源强之和（右边）。**

- 如果 $\text{div} \mathbf{F} > 0$，表示该点是一个**源**，有物质流出。
    
- 如果 $\text{div} \mathbf{F} < 0$，表示该点是一个**汇**，有物质流入。

### 格林恒等式
####  前提和符号

假设 $\Omega$ 是 $\mathbb{R}^3$ 中的一个有界闭区域，其边界为光滑闭曲面 $\Sigma$。

设 $u$ 和 $v$ 是在 $\Omega$ 上具有二阶连续偏导数的标量函数。

$\mathbf{n}$ 是 $\Sigma$ 上的单位外法向量。

$\nabla u = \left( \frac{\partial u}{\partial x}, \frac{\partial u}{\partial y}, \frac{\partial u}{\partial z} \right)$ 是函数 $u$ 的梯度。

$\frac{\partial u}{\partial \mathbf{n}} = \nabla u \cdot \mathbf{n}$ 是函数 $u$ 沿法向量 $\mathbf{n}$ 的法向导数。

$\nabla^2 u = \text{div}(\nabla u) = \frac{\partial^2 u}{\partial x^2} + \frac{\partial^2 u}{\partial y^2} + \frac{\partial^2 u}{\partial z^2}$ 是函数 $u$ 的拉普拉斯算子。

---

##### 1. 第一格林恒等式 (Green's First Identity)

**第一格林公式**将两个函数的梯度乘积的体积分，转化为包含其中一个函数的梯度和另一个函数的拉普拉斯算子的体积分，以及一个曲面积分。

###### 公式：

$$\iiint_{\Omega} (u \nabla^2 v + \nabla u \cdot \nabla v) dV = \iint_{\Sigma} u \frac{\partial v}{\partial \mathbf{n}} dS$$


##### 2. 第二格林恒等式 (Green's Second Identity)

**第二格林公式**是第一格林公式的对称形式，它在位势理论和边界值问题中尤其重要。

###### 公式：

$$\iiint_{\Omega} (u \nabla^2 v - v \nabla^2 u) dV = \iint_{\Sigma} \left( u \frac{\partial v}{\partial \mathbf{n}} - v \frac{\partial u}{\partial \mathbf{n}} \right) dS$$

#####  第三格林恒等式 (Green's Third Identity)


**第三格林公式**利用基本解（如 $1/r$）将区域内某点的函数值 $u(x_0)$ 与函数在边界上的值和法向导数联系起来。

###### 公式（简化形式，忽略奇点处理）：

$$u(\mathbf{x}_0) = \iint_{\Sigma} \left( u \frac{\partial G}{\partial \mathbf{n}} - G \frac{\partial u}{\partial \mathbf{n}} \right) dS + \iiint_{\Omega} G \nabla^2 u dV$$

其中 $G = G(\mathbf{x}, \mathbf{x}_0)$ 是某个基本解或格林函数。

在**调和函数**（即满足 $\nabla^2 u = 0$ 的函数）的理论中，第三格林公式尤其重要，它将调和函数在内部某点的值表示为在边界上的值和法向导数的线性组合。

# 三重积分
## 一、 三重积分的定义

### 1. 直观概念

对于一个三元函数 $f(x, y, z)$ 在三维空间中的有界闭区域 $\Omega$ 上的三重积分 $\iiint_{\Omega} f(x, y, z) dV$：

- **物理意义：** 如果 $f(x, y, z)$ 表示物体在点 $(x, y, z)$ 处的**密度**（单位体积的质量），那么三重积分的值就表示**该物体占据区域 $\Omega$ 的总质量**。
    
- **几何意义：** 如果被积函数 $f(x, y, z) = 1$，那么三重积分 $\iiint_{\Omega} 1 \, dV$ 就表示**区域 $\Omega$ 自身的体积**。
    

### 2. 严格定义 (黎曼和)

三重积分是通过三维黎曼和的极限来定义的：

1. **分割区域：** 将空间有界闭区域 $\Omega$ 分割成 $n$ 个小的子区域 $\Delta \Omega_k$，其体积记为 $\Delta V_k$。
    
2. **选取样本点：** 在每个子区域 $\Delta \Omega_k$ 中任意选取一点 $(\xi_k, \eta_k, \zeta_k)$。
    
3. **近似求和：** 形成黎曼和 $\sum_{k=1}^n f(\xi_k, \eta_k, \zeta_k) \Delta V_k$。
    
4. **取极限：** 当分割无限加密（即所有子区域的最大直径 $\lambda \to 0$）时，如果极限存在，则定义为三重积分：
    

$$\iiint_{\Omega} f(x, y, z) dV = \lim_{\lambda \to 0} \sum_{k=1}^n f(\xi_k, \eta_k, \zeta_k) \Delta V_k$$

---

##  二、 三重积分的性质

三重积分的性质与定积分和二重积分的性质完全类似：

| **性质名称**  | **描述**                                                                  | **公式**                                                                             |
| --------- | ----------------------------------------------------------------------- | ---------------------------------------------------------------------------------- |
| **线性性质**  | 常数可提，加减法可分解。                                                            | $\iiint_{\Omega} [k f \pm g] dV = k \iiint_{\Omega} f dV \pm \iiint_{\Omega} g dV$ |
| **区域可加性** | 如果 $\Omega = \Omega_1 \cup \Omega_2$，且 $\Omega_1, \Omega_2$ 不重叠，则积分可分解。 | $\iiint_{\Omega} f dV = \iiint_{\Omega_1} f dV + \iiint_{\Omega_2} f dV$           |
| **保序性**   | 若在 $\Omega$ 上 $f \le g$，则它们的积分也保持该关系。                                   | 若 $f \le g$，则 $\iiint_{\Omega} f dV \le \iiint_{\Omega} g dV$                      |
| **估值性质**  | 积分值介于最小值 $m$ 和最大值 $M$ 乘以区域体积 $V(\Omega)$ 之间。                            | $m \cdot V(\Omega) \le \iiint_{\Omega} f dV \le M \cdot V(\Omega)$                 |
| **中值定理**  | 若 $f$ 在 $\Omega$ 上连续，则存在 $(\xi, \eta, \zeta) \in \Omega$ 使得积分等于函数值乘以体积。 | $\iiint_{\Omega} f dV = f(\xi, \eta, \zeta) \cdot V(\Omega)$                       |

其中 $V(\Omega) = \iiint_{\Omega} 1 \, dV$ 是区域 $\Omega$ 的体积。

---

##  三、 三重积分的计算方法

三重积分的计算主要依赖于将它转化为**累次积分 (Iterated Integrals)**。

### 1. 直角坐标系下的累次积分

在直角坐标系 $(x, y, z)$ 下，三重积分 $dV = dx dy dz$ 可以按任意顺序写成六种累次积分：

$$\iiint_{\Omega} f(x, y, z) dV = \int_{a}^{b} \left[ \int_{y_1(x)}^{y_2(x)} \left[ \int_{z_1(x, y)}^{z_2(x, y)} f(x, y, z) dz \right] dy \right] dx$$

**计算步骤（以 $dz dy dx$ 为例）：**

1. **最内层（对 $z$）：** 将 $x, y$ 视为常数。积分限 $z_1(x, y)$ 和 $z_2(x, y)$ 是区域 $\Omega$ 的**下曲面**和**上曲面**。
    
2. **中间层（对 $y$）：** 将 $x$ 视为常数。积分限 $y_1(x)$ 和 $y_2(x)$ 是区域 $\Omega$ 在 $xy$-平面上的投影 $D_{xy}$ 的边界。
    
3. **最外层（对 $x$）：** 积分限 $a$ 和 $b$ 是投影区域 $D_{xy}$ 在 $x$ 轴上的最大范围。
    

### 2. 柱坐标系下的计算

当积分区域 $\Omega$ 绕 $z$ 轴旋转对称，或被积函数含有 $x^2 + y^2$ 项时，适合采用**柱坐标系** $(r, \theta, z)$。

- **坐标变换：** $x = r \cos \theta, y = r \sin \theta, z = z$
    
- **体积微元：** $dV = r \, dz dr d\theta$
    

$$\iiint_{\Omega} f(x, y, z) dV = \iiint_{\Omega'} f(r \cos \theta, r \sin \theta, z) \cdot r \, dz dr d\theta$$

### 3. 球坐标系下的计算

当积分区域 $\Omega$ 是球形、锥形，或被积函数含有 $x^2 + y^2 + z^2$ 项时，适合采用**球坐标系** $(\rho, \phi, \theta)$。

- 坐标变换：
$$x = \rho \sin \phi \cos \theta$$
   $$y = \rho \sin \phi \sin \theta$$
$$z = \rho \cos \phi$$
    
- **体积微元：** $dV = \rho^2 \sin \phi \, d\rho d\phi d\theta$
    

$$\iiint_{\Omega} f(x, y, z) dV = \iiint_{\Omega''} f(\rho, \phi, \theta) \cdot \rho^2 \sin \phi \, d\rho d\phi d\theta$$

### 4. 一般变量代换

类似于二重积分，对于一般的三重积分变换 $x=x(u, v, w)$, $y=y(u, v, w)$, $z=z(u, v, w)$，需要引入**三维雅可比行列式** $J$ 的绝对值：

$$dV = |J| \, du dv dw$$

其中 $J = \frac{\partial (x, y, z)}{\partial (u, v, w)}$。

# 曲面积分
## 第一型曲面积分
### 一、 第一型曲面积分的定义

#### 1. 直观概念

第一型曲面积分是定积分、二重积分和第一型曲线积分在曲面上的推广。

设 $f(x, y, z)$ 是定义在三维空间中光滑曲面 $\Sigma$ 上的一个标量函数。

- **物理意义：** 如果 $f(x, y, z)$ 表示曲面 $\Sigma$ 上点 $(x, y, z)$ 处的**面密度**（单位面积的质量），那么曲面积分的值 $\iint_{\Sigma} f(x, y, z) dS$ 就表示**整个曲面 $\Sigma$ 的总质量**。
    
- **几何意义：** 如果 $f(x, y, z) = 1$，则积分 $\iint_{\Sigma} 1 \, dS$ 得到的就是**曲面 $\Sigma$ 自身的面积** $A(\Sigma)$。
    

#### 2. 严格定义 (黎曼和)

1. **分割曲面：** 将曲面 $\Sigma$ 分割成 $n$ 个小的子区域 $\Delta \Sigma_k$，其面积记为 $\Delta S_k$。
    
2. **选取样本点：** 在每个子区域 $\Delta \Sigma_k$ 中任意选取一点 $(\xi_k, \eta_k, \zeta_k)$。
    
3. **近似求和：** 形成黎曼和 $\sum_{k=1}^n f(\xi_k, \eta_k, \zeta_k) \Delta S_k$。
    
4. **取极限：** 当分割无限加密（即所有子区域的最大直径 $\lambda \to 0$）时，如果极限存在，则定义为第一型曲面积分：
    

$$\iint_{\Sigma} f(x, y, z) dS = \lim_{\lambda \to 0} \sum_{k=1}^n f(\xi_k, \eta_k, \zeta_k) \Delta S_k$$

---

### 二、 第一型曲面积分的性质

第一型曲面积分与所有黎曼积分一样，具有以下基本性质：

|**性质名称**|**描述**|**公式**|
|---|---|---|
|**线性性质**|常数可提，加减法可分解。|$\iint_{\Sigma} [k f \pm g] dS = k \iint_{\Sigma} f dS \pm \iint_{\Sigma} g dS$|
|**可加性**|如果 $\Sigma = \Sigma_1 \cup \Sigma_2$，且 $\Sigma_1, \Sigma_2$ 不重叠，则积分可分解。|$\iint_{\Sigma} f dS = \iint_{\Sigma_1} f dS + \iint_{\Sigma_2} f dS$|
|**保序性**|若在 $\Sigma$ 上 $f \le g$，则积分也保持该关系。|若 $f \le g$，则 $\iint_{\Sigma} f dS \le \iint_{\Sigma} g dS$|
|**中值定理**|若 $f$ 在 $\Sigma$ 上连续，则存在 $(\xi, \eta, \zeta) \in \Sigma$ 使得积分等于函数值乘以曲面面积 $A(\Sigma)$。|$\iint_{\Sigma} f dS = f(\xi, \eta, \zeta) \cdot A(\Sigma)$|

- **注意：** 第一型曲面积分只与曲面 $\Sigma$ 本身有关，与曲面的**定向**（法向量朝内还是朝外）**无关**。
    

---

###  三、 第一型曲面积分的计算方法

第一型曲面积分的核心计算方法是将其转化为**二重积分**。

#### 关键：曲面微元 $dS$ 的转化

设曲面 $\Sigma$ 在 $xy$-平面上的投影区域为 $D_{xy}$。根据曲面方程的不同形式，面积微元 $dS$ 有不同的转化公式：

##### (1) 曲面由 $z=z(x, y)$ 给出

如果曲面 $\Sigma$ 的方程为 $z = z(x, y)$，其中 $(x, y) \in D_{xy}$，则曲面微元 $dS$ 为：

$$dS = \sqrt{1 + \left(\frac{\partial z}{\partial x}\right)^2 + \left(\frac{\partial z}{\partial y}\right)^2} \, dx dy$$

将 $z(x, y)$ 代入被积函数 $f(x, y, z)$ 中，转化为 $D_{xy}$ 上的二重积分：

$$\iint_{\Sigma} f(x, y, z) dS = \iint_{D_{xy}} f(x, y, z(x, y)) \cdot \sqrt{1 + \left(\frac{\partial z}{\partial x}\right)^2 + \left(\frac{\partial z}{\partial y}\right)^2} \, dx dy$$
    

##### 参数方程下的曲面微元 $dS$

假设曲面 $\Sigma$ 由以下参数方程给出：

$$\mathbf{r}(u, v) = x(u, v) \mathbf{i} + y(u, v) \mathbf{j} + z(u, v) \mathbf{k}$$

其中参数 $(u, v)$ 在 $uv$-平面上的一个区域 $D_{uv}$ 内变化。

###### 1. 偏导向量

首先，计算 $\mathbf{r}$ 对参数 $u$ 和 $v$ 的偏导向量：

$$\mathbf{r}_u = \frac{\partial \mathbf{r}}{\partial u} = \left\langle \frac{\partial x}{\partial u}, \frac{\partial y}{\partial u}, \frac{\partial z}{\partial u} \right\rangle$$

$$\mathbf{r}_v = \frac{\partial \mathbf{r}}{\partial v} = \left\langle \frac{\partial x}{\partial v}, \frac{\partial y}{\partial v}, \frac{\partial z}{\partial v} \right\rangle$$

###### 2. 法向量与面积微元

在参数曲面上，曲面上的切平面是由 $\mathbf{r}_u$ 和 $\mathbf{r}_v$ 张成的。它们的**叉积** $\mathbf{r}_u \times \mathbf{r}_v$ 得到的是曲面的法向量。

微小的曲面面积微元 $dS$ 的大小等于该法向量的**模长**（长度）乘以 $du dv$：

$$dS = |\mathbf{r}_u \times \mathbf{r}_v| \, du dv$$

其中，叉积 $\mathbf{r}_u \times \mathbf{r}_v$ 的分量计算如下：

$$\mathbf{r}_u \times \mathbf{r}_v = \begin{vmatrix} \mathbf{i} & \mathbf{j} & \mathbf{k} \\ \frac{\partial x}{\partial u} & \frac{\partial y}{\partial u} & \frac{\partial z}{\partial u} \\ \frac{\partial x}{\partial v} & \frac{\partial y}{\partial v} & \frac{\partial z}{\partial v} \end{vmatrix} = A \mathbf{i} + B \mathbf{j} + C \mathbf{k}$$

$$A = \frac{\partial y}{\partial u} \frac{\partial z}{\partial v} - \frac{\partial z}{\partial u} \frac{\partial y}{\partial v}, \quad B = \frac{\partial z}{\partial u} \frac{\partial x}{\partial v} - \frac{\partial x}{\partial u} \frac{\partial z}{\partial v}, \quad C = \frac{\partial x}{\partial u} \frac{\partial y}{\partial v} - \frac{\partial y}{\partial u} \frac{\partial x}{\partial v}$$

因此，面积微元 $dS$ 的表达式为：

$$dS = \sqrt{A^2 + B^2 + C^2} \, du dv$$

---

##### 3. 计算公式

设 $f(x, y, z)$ 是曲面 $\Sigma$ 上的被积函数。第一型曲面积分的参数方程计算公式为：

$$\iint_{\Sigma} f(x, y, z) dS = \iint_{D_{uv}} f(x(u, v), y(u, v), z(u, v)) \cdot |\mathbf{r}_u \times \mathbf{r}_v| \, du dv$$

## 第二型曲面积分
### 定义
第二型曲面积分用于计算一个**向量场**穿过一个**定向曲面**的总量，这个总量在物理上通常被称为**通量 (Flux)**。

#### 1. 前提：定向曲面

与第一型曲面积分不同，第二型曲面积分对曲面有**方向要求**。

- **定向曲面：** 曲面 $\Sigma$ 上的每一点都指定了一个单位法向量 $\mathbf{n}$。这个法向量决定了曲面的“正向”或“侧面”。
    
    - 对于闭曲面（如球面），法向量通常指定为**外侧**（指向外）或**内侧**（指向内）。
        
    - 对于非闭曲面（如碟形），法向量通常指定为**上侧**或**下侧**。
        

#### 2. 向量场

设 $\mathbf{F}(x, y, z)$ 是定义在曲面 $\Sigma$ 上的一个向量场：

$$\mathbf{F}(x, y, z) = P(x, y, z) \mathbf{i} + Q(x, y, z) \mathbf{j} + R(x, y, z) \mathbf{k}$$

#### 3. 通量微元

在曲面 $\Sigma$ 上取一个无限小的面积微元 $\Delta S$。这个微元可以表示为一个向量微元 $d\mathbf{S}$，它具有大小 $|\Delta S|$ 和方向 $\mathbf{n}$：

$$d\mathbf{S} = \mathbf{n} \, dS$$

在微元 $d\mathbf{S}$ 处，向量场 $\mathbf{F}$ 穿过该微元的通量近似为：

$$\Delta \Phi \approx \mathbf{F} \cdot d\mathbf{S} = (\mathbf{F} \cdot \mathbf{n}) \, dS$$

这个点积 $\mathbf{F} \cdot \mathbf{n}$ 表示向量场 $\mathbf{F}$ 在法向量 $\mathbf{n}$ 方向上的分量，即垂直穿过曲面的分量。

#### 4. 严格定义 (通量)

将所有微元的通量近似值加起来，并取极限，就得到了向量场 $\mathbf{F}$ 穿过定向曲面 $\Sigma$ 的**第二型曲面积分**，记作：
$$\iint_{\Sigma} \mathbf{F} \cdot d\mathbf{S} = \iint_{\Sigma} (P \mathbf{i} + Q \mathbf{j} + R \mathbf{k}) \cdot \mathbf{n} \, dS$$
### 计算方法
#### 1.利用高斯公式（闭合曲面）
$$\iint_{\Sigma} \mathbf{F} \cdot d\mathbf{S} = \iiint_{\Omega} \text{div} \mathbf{F} \, dV$$
#### 2.转化为第一型曲面积分
$$\iint_{\Sigma} \mathbf{P}d\mathbf{y}d\mathbf{z}+\mathbf{Q}d\mathbf{z}d\mathbf{x}+\mathbf{R}d\mathbf{x}d\mathbf{y}=\iint_{D}(\mathbf{P\cos{\alpha}+Q\cos{\beta}+R\cos{\gamma}})d\mathbf{S}$$
#### 3.$z=z(x, y)$
$$\iint_{\Sigma} \mathbf{F} \cdot d\mathbf{S} = \iint_{D_{xy}} \left[ P \left(\frac{\partial z}{\partial x}\right) + Q \left(\frac{\partial z}{\partial y}\right) - R \right] dx dy$$
#### 4.$\mathbf{r}(u, v) = x(u, v) \mathbf{i} + y(u, v) \mathbf{j} + z(u, v) \mathbf{k}$
$$\iint_{\Sigma} \mathbf{P}d\mathbf{y}d\mathbf{z}+\mathbf{Q}d\mathbf{z}d\mathbf{x}+\mathbf{R}d\mathbf{x}d\mathbf{y}=\pm\iint_{\mathbf{D}}(\mathbf{P} \circ \mathbf{r(u,v)}) \frac{\partial ( y, z)}{\partial (u, v)}+(\mathbf{Q} \circ \mathbf{r(u,v)}) \frac{\partial ( z, x)}{\partial (u, v)}+(\mathbf{R} \circ \mathbf{r(u,v)}) \frac{\partial ( x, y)}{\partial (u, v)} $$


# 斯托克斯公式
$$\iint_{S} \left( \begin{vmatrix} d\mathbf{y}d\mathbf{z} & d\mathbf{z}d\mathbf{x} & d\mathbf{x}d\mathbf{y} \\ \frac{\partial}{\partial x} & \frac{\partial}{\partial y} & \frac{\partial}{\partial z} \\ P & Q & R \end{vmatrix} \right) = \oint_{\partial S} P \, dx + Q \, dy + R \, dz$$